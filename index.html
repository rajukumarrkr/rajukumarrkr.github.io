<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RKR | Cyber Security & Network Engineer</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600&family=Poppins:wght@500;700;900&display=swap" rel="stylesheet">
    
    <script src="https://kit.fontawesome.com/843fcc9fef.js" crossorigin="anonymous"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cyber: '#00f3ff', // Cyan accent
                        dark: '#050505',
                        card: '#111111',
                        terminal: '#0c0c0c',
                        'cyber-dark': '#0a0a0a'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        heading: ['Poppins', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'], // Added for Terminal
                    },
                    animation: {
                        'spin-slow': 'spin 3s linear infinite',
                        'scroll': 'scroll 20s linear infinite',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        scroll: {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(-100%)' },
                        }
                    }
                }
            }
        }
    </script>

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.dots.min.js"></script>

    <style>
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #00f3ff; }

        div.swal2-container {
            z-index: 20000 !important;
        }
        
        .glass-nav {
            background: rgba(5, 5, 5, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Glitch Effect */
        .glitch-wrapper { position: relative; display: inline-block; }
        .glitch { position: relative; color: white; mix-blend-mode: lighten; }
        .glitch:before, .glitch:after { content: attr(data-text); position: absolute; top: 0; width: 100%; height: 100%; background: #050505; }
        .glitch:before { left: 2px; text-shadow: -1px 0 #ff00c1; clip: rect(44px, 450px, 56px, 0); animation: glitch-anim 5s infinite linear alternate-reverse; }
        .glitch:after { left: -2px; text-shadow: -1px 0 #00fff9; clip: rect(44px, 450px, 56px, 0); animation: glitch-anim2 5s infinite linear alternate-reverse; }
        
        @keyframes glitch-anim {
            0% { clip: rect(30px, 9999px, 10px, 0); }
            20% { clip: rect(85px, 9999px, 90px, 0); }
            40% { clip: rect(10px, 9999px, 60px, 0); }
            60% { clip: rect(60px, 9999px, 30px, 0); }
            80% { clip: rect(20px, 9999px, 70px, 0); }
            100% { clip: rect(50px, 9999px, 50px, 0); }
        }
        @keyframes glitch-anim2 {
            0% { clip: rect(10px, 9999px, 80px, 0); }
            20% { clip: rect(90px, 9999px, 10px, 0); }
            40% { clip: rect(40px, 9999px, 50px, 0); }
            60% { clip: rect(30px, 9999px, 60px, 0); }
            80% { clip: rect(70px, 9999px, 20px, 0); }
            100% { clip: rect(60px, 9999px, 30px, 0); }
        }

        /* Terminal Styling */
        .terminal-window {
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
        }
        .blinking-cursor {
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* Marquee */
        .marquee-container { overflow: hidden; white-space: nowrap; position: relative; }
        .marquee-content { display: inline-block; animation: scroll 30s linear infinite; }
        .marquee-content:hover { animation-play-state: paused; }

        /* AI Chatbot Animations */
        .chat-slide-up { animation: slideUp 0.3s ease-out forwards; }
        .chat-slide-down { animation: slideDown 0.3s ease-in forwards; }
        
        @keyframes slideUp { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes slideDown { from { transform: translateY(0); opacity: 1; } to { transform: translateY(100%); opacity: 0; } }

        .typing-dot {
            width: 6px; height: 6px; background: #00f3ff; border-radius: 50%;
            display: inline-block; animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
    </style>
</head>

<body class="bg-dark text-gray-200 font-sans antialiased overflow-x-hidden">
    <canvas id="threat-map" class="fixed inset-0 z-0 opacity-20 pointer-events-none"></canvas>

    <div class="fixed top-0 left-0 h-1 bg-cyber z-[60] transition-all duration-100" id="scroll-progress" style="width: 0%"></div>

    <nav class="glass-nav fixed w-full z-50 top-0 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0 font-heading font-black text-2xl tracking-wider text-white flex items-center gap-2">
                    <i class="fa-solid fa-shield-halved text-cyber"></i>
                    <span>RKR<span class="text-cyber">.</span></span>
                </div>
                
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#home" class="hover:text-cyber transition-colors text-sm font-medium">Home</a>
                    <a href="#about" class="hover:text-cyber transition-colors text-sm font-medium">About</a>
                    <a href="#terminal" class="hover:text-cyber transition-colors text-sm font-medium"><i class="fa-solid fa-terminal mr-1"></i>CLI</a>
                    <a href="#portfolio" class="hover:text-cyber transition-colors text-sm font-medium">Work</a>
                    <a href="https://rajukumarrkr.blogspot.com/" target="_blank" class="hover:text-cyber transition-colors text-sm font-medium">Blog</a>
                    
                    <div class="flex items-center gap-2 border border-green-500/30 bg-green-500/10 px-3 py-1 rounded-full">
                        <span class="relative flex h-2 w-2">
                          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                          <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                        </span>
                        <span class="text-xs text-green-400 font-mono uppercase">Open to Work</span>
                    </div>

                    <a href="#contact" class="bg-cyber text-dark hover:bg-white transition-colors px-5 py-2 rounded-md text-sm font-bold shadow-[0_0_10px_rgba(0,243,255,0.4)]">Hire Me</a>
                </div>

                <div class="-mr-2 flex md:hidden">
                    <button onclick="toggleMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none">
                        <i class="fa-solid fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <div class="md:hidden hidden bg-dark border-t border-gray-800" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 text-center">
                <a href="#home" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium hover:text-cyber">Home</a>
                <a href="#about" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium hover:text-cyber">About</a>
                <a href="#terminal" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium hover:text-cyber">Terminal</a>
                <a href="#contact" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium hover:text-cyber">Contact</a>
            </div>
        </div>
    </nav>

    <div id="home" class="relative w-full h-screen flex items-center justify-center overflow-hidden">
        <div id="vanta-bg" class="absolute inset-0 z-0"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-dark via-transparent to-transparent z-10"></div>
        
        <div class="absolute top-0 left-10 w-[1px] h-full bg-gray-800/50 hidden md:block"></div>
        <div class="absolute top-0 right-10 w-[1px] h-full bg-gray-800/50 hidden md:block"></div>

        <div class="relative z-20 text-center px-4" data-aos="zoom-in" data-aos-duration="1000">
            <div class="inline-block border border-cyber/30 bg-cyber/10 px-4 py-1 rounded-full mb-6 backdrop-blur-sm">
                <p class="text-cyber text-xs tracking-[0.2em] uppercase font-bold">System Online â€¢ v2.5.0</p>
            </div>
            
            <h1 class="text-6xl md:text-8xl font-heading font-black text-white mb-4 leading-tight glitch-wrapper">
                <span class="glitch" data-text="Raju Kumar">Raju Kumar</span>
            </h1>
            
            <div class="text-lg md:text-2xl text-gray-300 h-8 font-mono mb-8">
                <span class="text-cyber">> </span><span id="profession"></span><span class="blinking-cursor">_</span>
            </div>
            
            <div class="mt-8 flex flex-col md:flex-row justify-center items-center gap-4">
                <a href="#contact" class="bg-cyber text-dark w-40 py-3 rounded-none font-bold hover:bg-white hover:shadow-[0_0_20px_rgba(0,243,255,0.6)] transition-all duration-300 skew-x-[-10deg]">
                    <span class="inline-block skew-x-[10deg]">Initiate Chat</span>
                </a>
                <a href="#terminal" class="border border-gray-500 text-gray-300 w-40 py-3 rounded-none font-bold hover:border-cyber hover:text-cyber transition-all duration-300 skew-x-[-10deg] backdrop-blur-sm">
                    <span class="inline-block skew-x-[10deg]">System Access</span>
                </a>
            </div>
        </div>
        
        <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce z-20 text-gray-600">
            <i class="fa-solid fa-angles-down"></i>
        </div>
    </div>

    <div class="bg-black py-8 border-y border-gray-800 overflow-hidden relative z-30">
        <div class="marquee-container">
            <div class="marquee-content flex space-x-16 items-center">
                <i class="fab fa-python text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fas fa-network-wired text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fab fa-linux text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fab fa-aws text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fab fa-docker text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fas fa-shield-alt text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fab fa-jenkins text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fas fa-server text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fab fa-python text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fas fa-network-wired text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
                <i class="fab fa-linux text-4xl text-gray-600 hover:text-cyber transition-colors"></i>
            </div>
        </div>
    </div>

    <div id="about" class="py-24 bg-dark relative overflow-hidden">
        <div class="absolute top-20 left-0 text-[200px] font-bold text-white opacity-[0.02] pointer-events-none select-none">ABOUT</div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                
                <div class="relative group" data-aos="fade-right">
                    <div class="absolute -inset-2 bg-gradient-to-r from-cyber to-blue-900 rounded-lg blur opacity-30 group-hover:opacity-60 transition duration-500"></div>
                    <div class="relative border-2 border-gray-800 bg-card rounded-lg p-2">
                        <div class="flex items-center gap-2 mb-2 px-2">
                            <div class="w-3 h-3 rounded-full bg-red-500"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500"></div>
                        </div>
                        <img src="images/bgim1.png" alt="Raju Kumar" class="w-full rounded bg-gray-900 object-cover" onerror="this.src='https://via.placeholder.com/600x600/0f0f0f/00f3ff?text=USER+IMAGE+NOT+FOUND'">
                        <div class="absolute bottom-6 right-6 bg-black/80 backdrop-blur border border-cyber text-cyber px-4 py-2 rounded text-xs font-mono shadow-xl">
                            <i class="fa-solid fa-check-circle mr-2"></i>Security Cleared
                        </div>
                    </div>
                </div>

                <div data-aos="fade-left">
                    <h2 class="text-4xl font-heading font-bold mb-6 text-white">Behind the <span class="text-cyber">Firewall</span></h2>
                    <p class="text-gray-400 mb-8 leading-relaxed text-lg">
                        I don't just fix networks; I architect resilient digital fortresses. With extensive experience in server administration and cyber security, I bridge the gap between robust infrastructure and agile development.
                    </p>
                    
                    <div class="grid grid-cols-2 gap-4 mb-8">
                        <div class="bg-card p-4 rounded border border-gray-800 hover:border-cyber transition-colors">
                            <h3 class="text-cyber text-3xl font-bold">5+</h3>
                            <p class="text-xs text-gray-500 uppercase">Years Experience</p>
                        </div>
                        <div class="bg-card p-4 rounded border border-gray-800 hover:border-cyber transition-colors">
                            <h3 class="text-cyber text-3xl font-bold">50+</h3>
                            <p class="text-xs text-gray-500 uppercase">Projects Deployed</p>
                        </div>
                    </div>

                    <div class="mb-6 border-b border-gray-800 flex space-x-8">
                        <button class="tab-btn active-tab pb-3 text-cyber border-b-2 border-cyber font-mono text-sm transition-all" onclick="openTab(event, 'skills')">./skills</button>
                        <button class="tab-btn pb-3 text-gray-500 hover:text-white font-mono text-sm transition-all" onclick="openTab(event, 'experience')">./experience</button>
                    </div>

                    <div id="skills" class="tab-content block animate-fade-in-up min-h-[150px]">
                        <ul class="space-y-3 font-mono text-sm text-gray-300">
                            <li><span class="text-cyber">root@rkr:~$</span> net_design --secure --industrial</li>
                            <li><span class="text-cyber">root@rkr:~$</span> python --frameworks [Django, Flask]</li>
                            <li><span class="text-cyber">root@rkr:~$</span> automation --scripts --ml</li>
                        </ul>
                    </div>

                    <div id="experience" class="tab-content hidden animate-fade-in-up min-h-[150px]">
                        <ul class="space-y-4">
                            <li class="pl-4 border-l-2 border-cyber">
                                <h4 class="text-white font-bold">Sr. Network Engineer</h4>
                                <p class="text-sm text-gray-500">2019 - Present</p>
                            </li>
                            <li class="pl-4 border-l-2 border-gray-700 hover:border-cyber transition-colors">
                                <h4 class="text-white font-bold">Web Developer</h4>
                                <p class="text-sm text-gray-500">2021 - Present</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="terminal" class="py-20 bg-black flex justify-center items-center px-4">
        <div class="w-full max-w-4xl" data-aos="flip-up">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-heading font-bold text-white">Interactive <span class="text-cyber">Terminal</span></h2>
                <p class="text-gray-500 text-sm">Type <span class="bg-gray-800 px-1 rounded text-cyber">help</span> to see available commands.</p>
            </div>
            
            <div class="terminal-window bg-terminal rounded-lg overflow-hidden border border-gray-800 font-mono text-sm shadow-2xl">
                <div class="bg-gray-900 px-4 py-2 flex items-center justify-between border-b border-gray-800">
                    <div class="flex space-x-2">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    </div>
                    <div class="text-gray-500 text-xs">guest@rkr-portfolio:~</div>
                    <div class="text-gray-500 text-xs"><i class="fa-solid fa-wifi"></i> Connected</div>
                </div>
                
                <div class="p-4 h-80 overflow-y-auto" id="terminal-output" onclick="document.getElementById('command-input').focus()">
                    <div class="text-gray-400 mb-2">Welcome to RKR System v2.5.0</div>
                    <div class="text-gray-400 mb-4">Copyright (c) 2026 Corporation. All rights reserved.</div>
                    <div id="history"></div>
                    <div class="flex items-center">
                        <span class="text-green-500 mr-2">guest@rkr:~$</span>
                        <input type="text" id="command-input" class="bg-transparent border-none outline-none text-white w-full caret-cyber" autocomplete="off" autofocus>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="services" class="py-20 bg-dark border-t border-gray-900">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-3xl md:text-4xl font-heading font-bold mb-12 text-white" data-aos="fade-up">Deployed <span class="text-cyber">Services</span></h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-card p-8 rounded-lg border border-gray-800 hover:border-cyber hover:bg-gray-900 transition-all duration-300 group text-left relative overflow-hidden" data-aos="fade-up" data-aos-delay="0">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                        <i class="fa-solid fa-code text-9xl text-cyber"></i>
                    </div>
                    <i class="fa-solid fa-code text-3xl text-cyber mb-4"></i>
                    <h3 class="text-xl font-bold mb-3 text-white">Full-Stack Dev</h3>
                    <p class="text-gray-400 text-sm mb-4">Secure web apps using Django/Flask & React. Emphasis on backend logic and database integrity.</p>
                </div>

                <div class="bg-card p-8 rounded-lg border border-gray-800 hover:border-cyber hover:bg-gray-900 transition-all duration-300 group text-left relative overflow-hidden" data-aos="fade-up" data-aos-delay="100">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                        <i class="fa-solid fa-network-wired text-9xl text-cyber"></i>
                    </div>
                    <i class="fa-solid fa-network-wired text-3xl text-cyber mb-4"></i>
                    <h3 class="text-xl font-bold mb-3 text-white">Network Security</h3>
                    <p class="text-gray-400 text-sm mb-4">Next-Gen Firewall config (Palo Alto, FortiGate), VPN tunneling, and Intrusion Prevention Systems.</p>
                </div>

                <div class="bg-card p-8 rounded-lg border border-gray-800 hover:border-cyber hover:bg-gray-900 transition-all duration-300 group text-left relative overflow-hidden" data-aos="fade-up" data-aos-delay="200">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                        <i class="fa-solid fa-robot text-9xl text-cyber"></i>
                    </div>
                    <i class="fa-solid fa-robot text-3xl text-cyber mb-4"></i>
                    <h3 class="text-xl font-bold mb-3 text-white">Automation</h3>
                    <p class="text-gray-400 text-sm mb-4">Python scripting for network tasks, log analysis, and reducing manual workload.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="portfolio" class="py-20 bg-black">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-end mb-12">
                <h2 class="text-3xl md:text-4xl font-heading font-bold text-white">Selected <span class="text-cyber">Works</span></h2>
                <a href="#" class="text-cyber text-sm hover:text-white font-mono hidden md:block">view_all_projects() -></a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="group relative overflow-hidden rounded-lg border border-gray-800 cursor-pointer" data-aos="fade-up">
                    <div class="aspect-video bg-gray-900">
                        <img src="images/Web_work.jpg" alt="Web" class="object-cover w-full h-full opacity-60 group-hover:opacity-100 transition-opacity duration-500">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 translate-y-4 group-hover:translate-y-0 transition-transform">
                        <p class="text-cyber text-xs font-mono mb-1">PYTHON / FLASK</p>
                        <h3 class="text-xl font-bold text-white">Secure Dashboard</h3>
                    </div>
                </div>
                <div class="group relative overflow-hidden rounded-lg border border-gray-800 cursor-pointer" data-aos="fade-up" data-aos-delay="100">
                    <div class="aspect-video bg-gray-900">
                        <img src="images/fix-network.jpg" alt="Net" class="object-cover w-full h-full opacity-60 group-hover:opacity-100 transition-opacity duration-500">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 translate-y-4 group-hover:translate-y-0 transition-transform">
                        <p class="text-cyber text-xs font-mono mb-1">CISCO / PALO ALTO</p>
                        <h3 class="text-xl font-bold text-white">Enterprise Architecture</h3>
                    </div>
                </div>
                <div class="group relative overflow-hidden rounded-lg border border-gray-800 cursor-pointer" data-aos="fade-up" data-aos-delay="200">
                    <div class="aspect-video bg-gray-900">
                        <img src="images/automation.jpg" alt="Auto" class="object-cover w-full h-full opacity-60 group-hover:opacity-100 transition-opacity duration-500">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 translate-y-4 group-hover:translate-y-0 transition-transform">
                        <p class="text-cyber text-xs font-mono mb-1">ANSIBLE / PYTHON</p>
                        <h3 class="text-xl font-bold text-white">Auto-Remediation Bot</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="contact" class="py-20 bg-dark relative overflow-hidden">
        <div class="absolute -right-20 -bottom-20 w-96 h-96 bg-cyber opacity-5 rounded-full blur-3xl"></div>

        <div class="max-w-5xl mx-auto px-4 relative z-10">
            <div class="bg-card border border-gray-800 rounded-2xl p-8 md:p-12 shadow-2xl">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div>
                        <h2 class="text-3xl font-heading font-bold mb-4 text-white">Initialize <span class="text-cyber">Handshake</span></h2>
                        <p class="text-gray-400 mb-8">Ready to secure your infrastructure? Send a packet my way.</p>
                        
                        <div class="space-y-6">
                            <div class="flex items-start">
                                <div class="w-10 h-10 rounded bg-gray-900 flex items-center justify-center text-cyber mt-1 border border-gray-800">
                                    <i class="fa-solid fa-envelope"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-white font-bold text-sm">Email</h4>
                                    <a href="mailto:mail@rajukumarrkr.in" class="text-gray-400 text-sm hover:text-cyber">mail@rajukumarrkr.in</a>
                                </div>
                            </div>
                            
                            <div class="flex space-x-4 pt-4">
                                <a href="https://twitter.com/rajukumar_rkr" class="w-10 h-10 rounded bg-gray-900 flex items-center justify-center text-gray-400 hover:bg-cyber hover:text-black transition-all"><i class="fa-brands fa-x-twitter"></i></a>
                                <a href="https://www.facebook.com/rajukumar.rathawa.rkr" class="w-10 h-10 rounded bg-gray-900 flex items-center justify-center text-gray-400 hover:bg-cyber hover:text-black transition-all"><i class="fa-brands fa-facebook-f"></i></a>
                                <a href="https://www.instagram.com/rajukumar_rkr/" class="w-10 h-10 rounded bg-gray-900 flex items-center justify-center text-gray-400 hover:bg-cyber hover:text-black transition-all"><i class="fa-brands fa-instagram"></i></a>
                            </div>

                            <button onclick="downloadCV()" class="mt-6 flex items-center text-white border border-gray-600 px-6 py-3 rounded hover:border-cyber hover:text-cyber transition-all w-full md:w-auto justify-center">
                                <i class="fa-solid fa-file-arrow-down mr-2"></i> Download CV
                            </button>
                        </div>
                    </div>

                    <div>
                        <form name="submit-to-google-sheet" class="space-y-4">
                            <div>
                                <input type="text" name="Name" placeholder="Name" required 
                                    class="w-full bg-dark border border-gray-700 rounded p-4 text-white focus:outline-none focus:border-cyber focus:shadow-[0_0_10px_rgba(0,243,255,0.2)] transition-all font-mono text-sm">
                            </div>
                            <div>
                                <input type="email" name="Email" placeholder="Email" required 
                                    class="w-full bg-dark border border-gray-700 rounded p-4 text-white focus:outline-none focus:border-cyber focus:shadow-[0_0_10px_rgba(0,243,255,0.2)] transition-all font-mono text-sm">
                            </div>
                            <div>
                                <textarea name="Message" rows="4" placeholder="Message Payload..." 
                                    class="w-full bg-dark border border-gray-700 rounded p-4 text-white focus:outline-none focus:border-cyber focus:shadow-[0_0_10px_rgba(0,243,255,0.2)] transition-all font-mono text-sm"></textarea>
                            </div>
                            
                            <button type="submit" class="w-full bg-cyber text-black font-bold py-4 rounded hover:bg-white transition-all shadow-lg uppercase tracking-wider text-sm">
                                <i class="fa-solid fa-paper-plane mr-2"></i> Send Message
                            </button>
                        </form>
                        <span id="msg" class="block mt-4 text-green-400 font-mono text-sm text-center"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="ai-chat-widget" class="fixed bottom-6 right-6 z-50 flex flex-col items-end">
        <div id="ai-chat-box" class="hidden bg-cyber-dark border border-gray-700 w-80 md:w-96 rounded-lg shadow-2xl overflow-hidden mb-4 transition-all duration-300 transform origin-bottom-right">
            <div class="bg-gray-900 p-4 border-b border-gray-800 flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <div class="w-2 h-2 bg-cyber rounded-full animate-pulse"></div>
                    <h3 class="text-white font-mono text-sm font-bold">TERMINATOR <span class="text-xs text-gray-500">v2.5.0</span></h3>
                </div>
                <button onclick="toggleChat()" class="text-gray-400 hover:text-white transition-colors"><i class="fa-solid fa-xmark"></i></button>
            </div>
            
            <div id="chat-messages" class="h-80 overflow-y-auto p-4 space-y-4 bg-black/50 scrollbar-hide">
                <div class="flex flex-col gap-1">
                    <div class="bg-gray-800/50 text-gray-300 p-3 rounded-lg rounded-tl-none text-sm font-mono border-l-2 border-cyber max-w-[90%]">
                        Terminator Online... I am RKR's automated assistant. How can I help you to navigate this web ?
                    </div>
                </div>
            </div>

            <div class="p-3 bg-gray-900 border-t border-gray-800 flex gap-2">
                <input type="text" id="chat-input" placeholder="Ask about skills, contact..." class="flex-1 bg-black border border-gray-700 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-cyber font-mono" onkeypress="handleEnter(event)">
                <button onclick="sendMessage()" class="bg-cyber text-black px-4 rounded hover:bg-white transition-colors font-bold"><i class="fa-solid fa-paper-plane"></i></button>
            </div>
        </div>

        <button onclick="toggleChat()" class="bg-cyber text-black w-14 h-14 rounded-full shadow-[0_0_20px_rgba(0,243,255,0.4)] flex items-center justify-center hover:scale-110 transition-transform duration-300 group">
            <i class="fa-solid fa-robot text-xl group-hover:rotate-12 transition-transform"></i>
            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"></span>
            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
        </button>
    </div>

    <footer class="bg-black py-8 border-t border-gray-800 text-center font-mono text-xs">
        <div class="mb-4">
            <span class="text-gray-600">Visitor Intel: </span>
            <span id="visitor-ip" class="text-cyber">Scanning...</span>
            <span class="text-gray-700 mx-2">|</span>
            <span id="visitor-time" class="text-gray-400">--:--:--</span>
        </div>
        <p class="text-gray-600">
            &copy; 2026 RKR. All rights reserved.
        </p>
    </footer>

    <button id="to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'});" class="fixed bottom-8 right-24 bg-cyber/10 border border-cyber text-cyber w-10 h-10 flex items-center justify-center backdrop-blur translate-y-20 opacity-0 transition-all duration-300 z-40 hover:bg-cyber hover:text-black">
        <i class="fa-solid fa-chevron-up"></i>
    </button>

    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // 0. Initialize AOS
        AOS.init({ once: true, offset: 50 });

// ----------------------------------------------------
// 1. TERMINAL LOGIC (GOD-MODE + BLACK OPS UPGRADE)
// ----------------------------------------------------
const terminalInput = document.getElementById('command-input');
const terminalHistory = document.getElementById('history'); 
const terminalOutput = document.getElementById('terminal-output');

// State Variables for History Navigation
let cmdHistory = []; 
let historyIndex = -1;

// ðŸ“‚ MOCK FILE SYSTEM
const fileSystem = {
    'resume.txt': 'Secure Link: <a href="#" onclick="downloadCV()" class="underline text-cyber">rkr_cv_2025.pdf</a>',
    'contact.vcf': 'Email: mail@rajukumarrkr.in\nPhone: +91-XXXXXXXXXX\nStatus: Open to Work',
    'secrets.dat': 'ACCESS DENIED. ENCRYPTED LAYER 4.',
    'projects.md': '1. Auto-Bot (Python)\n2. Secure-Grid (AWS)\n3. Cyber-Shield (Firewall)'
};

// ðŸ“œ STATIC COMMANDS
const staticCommands = {
    'whoami': 'guest@rkr-portfolio (Access Level: Visitor)',
    'skills': 'Python, Network Security, Linux, AWS, Docker, React, Django',
    'services': 'Network Auditing, Cloud Architecture, Penetration Testing',
    'clear': 'clear',
    'about': 'Navigating to About section...',
    'contact': 'Opening communication channels...'
};

terminalInput.addEventListener('keydown', async function(e) {
    // --- 1. HISTORY NAVIGATION (Up/Down Arrows) ---
    if (e.key === 'ArrowUp') {
        if (historyIndex > 0) {
            historyIndex--;
            this.value = cmdHistory[historyIndex];
        }
        e.preventDefault();
    }
    if (e.key === 'ArrowDown') {
        if (historyIndex < cmdHistory.length - 1) {
            historyIndex++;
            this.value = cmdHistory[historyIndex];
        } else {
            historyIndex = cmdHistory.length;
            this.value = '';
        }
        e.preventDefault();
    }

    // --- 2. COMMAND EXECUTION ---
    if (e.key === 'Enter') {
        const fullInput = this.value.trim();
        const args = fullInput.split(' '); 
        const cmd = args[0].toLowerCase(); 
        const arg1 = args[1]; 

        if (fullInput === "") return;

        // Save to History
        cmdHistory.push(fullInput);
        historyIndex = cmdHistory.length;

        // Print User Command
        printOutput(`guest@rkr:~$ ${fullInput}`, "text-green-500");
        this.value = '';

        // --- COMMAND PROCESSING ---
        switch(cmd) {
            // --- BASIC UTILS ---
            case 'help':
                printOutput(`
                [SYSTEM COMMANDS]
                > about, contact, skills   : Navigation
                > ls, cat [file]           : File System
                > clear, history           : Utils
                > matrix, color [hex]      : UI Customization
                
                [NETWORK & TOOLS]
                > ping [url], scan [ip]    : Diagnostics
                > speedtest                : Bandwidth Sim
                > myip                     : Show your Public IP
                > weather [city]           : Real-time Weather
                > github [user]            : GitHub Stats
                
                [CRYPTOGRAPHY]
                > encrypt [text]           : Encode Base64
                > decrypt [text]           : Decode Base64
                `, "text-cyber");
                break;

            case 'clear':
                terminalHistory.innerHTML = '';
                break;

            case 'history':
                cmdHistory.forEach((c, i) => printOutput(`${i + 1}  ${c}`, "text-gray-400"));
                break;

            case 'date':
                printOutput(new Date().toString(), "text-gray-400");
                break;

            case 'echo':
                printOutput(args.slice(1).join(' '));
                break;

            case 'color':
                if(arg1) {
                    terminalHistory.style.color = arg1;
                    printOutput(`System Text Color set to ${arg1}`, "text-success");
                } else printOutput("Usage: color [hex] (e.g. color #ff0000)", "text-alert");
                break;

            case 'matrix':
                document.body.classList.toggle('matrix-mode');
                // Simple inline style toggle for immediate effect
                if(terminalHistory.style.textShadow) {
                    terminalHistory.style.textShadow = '';
                    terminalHistory.style.color = '';
                    printOutput("MATRIX MODE: DISENGAGED", "text-gray-400");
                } else {
                    terminalHistory.style.textShadow = '0 0 5px #00ff00';
                    terminalHistory.style.color = '#00ff00';
                    printOutput("MATRIX MODE: ENGAGED", "text-green-500 font-bold");
                }
                break;

            // --- CRYPTO TOOLS ---
            case 'encrypt':
                if (!args.slice(1).join(' ')) { printOutput("Usage: encrypt [message]", "text-red-500"); return; }
                const encoded = btoa(args.slice(1).join(' '));
                printOutput(`OUTPUT: ${encoded}`, "text-yellow-400 break-all");
                break;

            case 'decrypt':
                try {
                    if (!arg1) { printOutput("Usage: decrypt [string]", "text-red-500"); return; }
                    const decoded = atob(arg1);
                    printOutput(`OUTPUT: ${decoded}`, "text-green-400");
                } catch(e) { printOutput("Error: Invalid Base64 string", "text-red-500"); }
                break;

            // --- FILE SYSTEM ---
            case 'ls':
                printOutput(Object.keys(fileSystem).join('    '), "text-blue-400 font-bold");
                break;

            case 'cat':
                if(fileSystem[arg1]) printOutput(fileSystem[arg1], "text-gray-300");
                else printOutput(arg1 ? `cat: ${arg1}: No such file` : "Usage: cat [filename]", "text-red-500");
                break;

            // --- REAL APIS ---
            case 'ping':
                if (!arg1) { printOutput("Usage: ping [domain]", "text-red-500"); return; }
                await runRealPing(arg1);
                break;

            case 'scan':
            case 'whois':
                if (!arg1) { printOutput("Usage: scan [ip]", "text-red-500"); return; }
                await runRealIPScan(arg1);
                break;
            
            case 'myip':
                await getMyIP();
                break;

            case 'weather':
                if (!arg1) { printOutput("Usage: weather [city]", "text-red-500"); return; }
                await getRealWeather(arg1);
                break;

            case 'github':
                if (!arg1) { printOutput("Usage: github [username]", "text-red-500"); return; }
                await getGithubStats(arg1);
                break;
            
            case 'speedtest':
                await runSpeedTest();
                break;

            // --- EASTER EGGS ---
            case 'sudo':
                printOutput("guest is not in the sudoers file. This incident will be reported.", "text-red-500 font-bold bg-red-900/20 p-1");
                break;
            case 'rm':
                if (arg1 === '-rf' && args[2] === '/') {
                    printOutput("CRITICAL: DELETING SYSTEM32...", "text-red-500 animate-pulse");
                    setTimeout(() => printOutput("Just kidding. Don't do that.", "text-green-500"), 2000);
                } else printOutput("Permission Denied.", "text-red-500");
                break;
            case 'joke':
                const jokes = ["Why do Java developers wear glasses? Because they don't C#.", "I'd tell you a UDP joke, but you might not get it."];
                printOutput(jokes[Math.floor(Math.random() * jokes.length)], "text-yellow-400 italic");
                break;

            // --- DEFAULT / STATIC ---
            default:
                if (staticCommands[cmd]) {
                    if (cmd === 'about') document.querySelector('#about').scrollIntoView({behavior: 'smooth'});
                    if (cmd === 'contact') document.querySelector('#contact').scrollIntoView({behavior: 'smooth'});
                    printOutput(staticCommands[cmd], "text-cyber");
                } else {
                    printOutput(`bash: ${cmd}: command not found`, "text-red-500");
                }
        }
        
        // Auto Scroll
        terminalOutput.scrollTop = terminalOutput.scrollHeight;
    }
});

// --- HELPER FUNCTIONS ---

function printOutput(text, colorClass = "text-gray-300") {
    const formattedText = text.replace(/\n/g, '<br>');
    terminalHistory.innerHTML += `<div class="mb-1 ${colorClass}">${formattedText}</div>`;
}

// 1. HTTP PING + DNS RESOLVER
async function runRealPing(domain) {
    printOutput(`Pinging ${domain}...`, 'text-gray-400');
    
    // Resolve IP (Google DNS)
    let resolvedIP = "Unknown";
    try {
        const dnsRes = await fetch(`https://dns.google/resolve?name=${domain}`);
        const dnsData = await dnsRes.json();
        if (dnsData.Answer) {
            const record = dnsData.Answer.find(r => r.type === 1);
            if (record) resolvedIP = record.data;
        }
    } catch (e) {}

    // Latency Check
    let url = domain.startsWith('http') ? domain : `https://${domain}`;
    try {
        printOutput(`Contacting ${domain} [${resolvedIP}]...`, 'text-cyber');
        const start = performance.now();
        await fetch(url, { mode: 'no-cors', cache: 'no-cache' });
        const end = performance.now();
        const latency = (end - start).toFixed(2);
        printOutput(`Reply from ${resolvedIP}: bytes=32 time=${latency}ms protocol=https`, 'text-green-500');
    } catch (error) {
        printOutput(`Request Timed Out. Target ${domain} unreachable.`, 'text-red-500');
    }
}

// 2. IP SCANNER (HTTPS Fixed)
async function runRealIPScan(ip) {
    printOutput(`Scanning ${ip}...`, 'text-gray-400');
    try {
        // FIX: Switched to 'ipapi.co' which supports HTTPS (Secure)
        const res = await fetch(`https://ipapi.co/${ip}/json/`);
        const data = await res.json();
        
        if(data.error) throw new Error(data.reason);
        
        printOutput(`--------------------------------`, 'text-cyber');
        printOutput(`ISP: ${data.org}`, 'text-green-500'); // Note: 'org' is often used for ISP here
        printOutput(`ASN: ${data.asn}`);
        printOutput(`COUNTRY: ${data.country_name} (${data.country_code})`);
        printOutput(`CITY: ${data.city}, ${data.region}`);
        printOutput(`LAT/LON: ${data.latitude}, ${data.longitude}`);
        printOutput(`--------------------------`, 'text-cyber');
    } catch (e) { 
        printOutput(`Scan Failed: ${e.message}. (Try disabling AdBlock)`, 'text-red-500'); 
    }
}

// 3. WEATHER
async function getRealWeather(city) {
    printOutput(`Accessing meteorological satellites for ${city}...`, 'text-gray-400');
    try {
        const res = await fetch(`https://wttr.in/${city}?format=%C+%t&m`);
        const text = await res.text();
        printOutput(`[WEATHER REPORT]: ${text}`, 'text-blue-300 font-bold');
    } catch (e) { printOutput("Weather Satellites Offline.", "text-red-500"); }
}

// 4. GITHUB
async function getGithubStats(user) {
    printOutput(`Fetching GitHub Profile: ${user}...`, 'text-gray-400');
    try {
        const res = await fetch(`https://api.github.com/users/${user}`);
        if(!res.ok) throw new Error("User not found");
        const data = await res.json();
        printOutput(`--------------------------`, 'text-cyber');
        printOutput(`USER: ${data.login}`, 'text-green-500');
        printOutput(`REPOS: ${data.public_repos} | FOLLOWERS: ${data.followers}`);
        printOutput(`URL: ${data.html_url}`);
        printOutput(`--------------------------`, 'text-cyber');
    } catch (e) { printOutput(`GitHub Error: ${e.message}`, 'text-red-500'); }
}

// 5. SPEEDTEST SIMULATOR
async function runSpeedTest() {
    printOutput("Initializing Speedtest v4.0...", "text-cyber");
    await new Promise(r => setTimeout(r, 500));
    printOutput("Selecting best server... [Mumbai-AWS]", "text-gray-400");
    
    // Fake progress animation
    let bar = "â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘";
    for(let i=1; i<=10; i++) {
        await new Promise(r => setTimeout(r, 100)); 
        // In a real console we would clear line, here we wait for result
    }
    
    const down = (Math.random() * 50 + 100).toFixed(2);
    const up = (Math.random() * 30 + 50).toFixed(2);
    
    printOutput(`DOWNLOAD: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] ${down} Mbps`, "text-green-400");
    printOutput(`UPLOAD:   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] ${up} Mbps`, "text-blue-400");
    printOutput("Latency: 12ms | Jitter: 2ms", "text-gray-500");
}

// 6. GET MY IP
async function getMyIP() {
    try {
        const res = await fetch('https://api.ipify.org?format=json');
        const data = await res.json();
        printOutput(`YOUR PUBLIC IP: ${data.ip}`, "text-yellow-400 font-bold");
    } catch(e) { printOutput("Could not resolve public IP.", "text-red-500"); }
}

        // 2. Visitor Intel (IP & Time)
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => { document.getElementById('visitor-ip').innerText = data.ip; })
            .catch(() => { document.getElementById('visitor-ip').innerText = 'Hidden'; });

        function updateTime() {
            const now = new Date();
            document.getElementById('visitor-time').innerText = now.toLocaleTimeString();
        }
        setInterval(updateTime, 1000);
        updateTime();

        // 3. Typed.js
        var typed = new Typed('#profession', {
            strings: ["Cyber Security Engineer", "Network Systems Admin", "Python Developer"],
            typeSpeed: 40, backSpeed: 20, loop: true
        });

        // 4. Vanta Background
        window.addEventListener('DOMContentLoaded', () => {
             VANTA.DOTS({
                el: "#vanta-bg",
                mouseControls: true, touchControls: true, gyroControls: false,
                minHeight: 200.00, minWidth: 200.00, scale: 1.00, scaleMobile: 1.00,
                color: 0x00f3ff, color2: 0x111111, backgroundColor: 0x050505,
                size: 2.5, spacing: 40.00
            })
        });

        // 5. Scroll Progress & Back to Top
        window.onscroll = function() {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("scroll-progress").style.width = scrolled + "%";

            const toTopBtn = document.getElementById('to-top');
            if (winScroll > 500) {
                toTopBtn.classList.remove('translate-y-20', 'opacity-0');
            } else {
                toTopBtn.classList.add('translate-y-20', 'opacity-0');
            }
        };

        // 6. Tabs
        function openTab(event, tabName) {
            const contents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < contents.length; i++) contents[i].classList.add("hidden");
            
            const buttons = document.getElementsByClassName("tab-btn");
            for (let i = 0; i < buttons.length; i++) {
                buttons[i].classList.remove("text-cyber", "border-cyber");
                buttons[i].classList.add("text-gray-500", "border-transparent");
            }
            
            document.getElementById(tabName).classList.remove("hidden");
            event.currentTarget.classList.add("text-cyber", "border-cyber");
            event.currentTarget.classList.remove("text-gray-500", "border-transparent");
        }

        function toggleMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        // 7. Form Handling
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxWEK53s28quQA8nYU-ZzoHf212Vw3GZxbY7SkONmPCczeA1moQOOs1vKEr0_xx6WsmLA/exec'
        const form = document.forms['submit-to-google-sheet']
        const msg = document.getElementById('form-msg')
        
        form.addEventListener('submit', e => {
            e.preventDefault()
            
            // 1. Play Sound (if audio is enabled in your code)
            if(typeof playClick === "function") playClick(); 

            const btn = form.querySelector('button');
            const originalText = btn.innerHTML;
            
            // Loading State
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> TRANSMITTING...';
            btn.disabled = true;

            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(response => {
                    // Success Message
                    if (msg) {
                        msg.innerHTML = 'PACKET RECEIVED SUCCESSFULLY.';
                        msg.style.color = '#00ff41'; // Matrix Green color
                        setTimeout(() => { msg.innerHTML = '' }, 5000);
                    }
                    
                    form.reset()
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                    
                    // SweetAlert Popup
                    Swal.fire({
                        icon: 'success', 
                        title: 'Uplink Established', 
                        text: 'Message transmitted securely.',
                        background: '#000', 
                        color: '#fff', 
                        confirmButtonColor: '#00f3ff'
                    });
                })
                .catch(error => {
                    // Error Handling
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                    
                    if (msg) {
                        msg.innerHTML = 'TRANSMISSION FAILED.';
                        msg.style.color = '#ff003c'; // Red color
                    }
                    console.error('Error!', error.message);
                });
        })

        function downloadCV() {
             Swal.fire({
                icon: 'error', title: '403 Forbidden', text: 'Direct download is restricted. Please request via email.',
                background: '#111', color: '#fff', confirmButtonColor: '#00f3ff'
            });
        }

        // ----------------------------------------------------
        // SENTINEL AI LOGIC V6.0 (SINGULARITY EDITION)
        // ----------------------------------------------------
        
        let isChatOpen = false;
        let userName = "Guest";
        let lastTopic = ""; 
        let currentDeepDive = ""; 

        // ðŸ§  KNOWLEDGE GRAPH (With Smart Actions)
        const knowledgeBase = [
            {
                // GREETINGS
                id: "greeting",
                triggers: [/hi\b/, /hello/, /hey/, /greetings/, /start/, /system status/],
                priority: 1,
                response: () => {
                    const h = new Date().getHours();
                    const t = h < 12 ? "Good morning" : h < 18 ? "Good afternoon" : "Good evening";
                    return `${t}, ${userName}. Terminator v2.5.0 Online...<br>Accessing RKR's <strong>Security Architecture</strong> database.`;
                },
                actions: ["Who are you?", "Core Skills", "View Projects"]
            },
            {
                // IDENTITY
                id: "identity",
                triggers: [/who are you/, /your name/, /bot/, /ai/, /what is this/],
                priority: 2,
                response: "I am Terminator, a simulated Neural Interface designed to demonstrate RKR's engineering capabilities in <strong>Frontend Logic</strong> and <strong>System Architecture</strong>.",
                elaboration: "I run entirely in your browser using advanced Pattern Matching algorithms. No server-side API keys are required, ensuring 100% privacy and uptime.",
                actions: ["Show Skills", "Contact RKR"]
            },
            {
                // NETWORK SECURITY (High Priority)
                id: "security",
                triggers: [/firewall/, /palo alto/, /fortinet/, /cisco/, /security/, /vpn/, /zero trust/, /panorama/],
                priority: 3,
                response: "<strong>[SECURITY ARSENAL]:</strong><br>RKR is an expert in Next-Gen Firewalls (NGFW):<br>â€¢ <strong>Palo Alto:</strong> App-ID, User-ID, Panorama, GlobalProtect.<br>â€¢ <strong>Architecture:</strong> Zero Trust segmentation & Micro-segmentation strategies.",
                elaboration: "RKR manages security policies as code (IaC). He has migrated legacy port-based rules to application-aware policies (App-ID), reducing the attack surface by over 40% in previous roles.",
                actions: ["Tell me more", "Automation Skills", "Cloud Security"]
            },
            {
                // CLOUD & AWS
                id: "cloud",
                triggers: [/aws/, /cloud/, /vpc/, /transit gateway/, /direct connect/, /azure/],
                priority: 3,
                response: "<strong>[CLOUD ARCHITECTURE]:</strong><br>RKR bridges On-Premise networks with AWS using:<br>â€¢ <strong>Connectivity:</strong> Direct Connect (DX) & Site-to-Site VPNs.<br>â€¢ <strong>Routing:</strong> Transit Gateway (TGW) for Hub-and-Spoke topology.",
                elaboration: "He implements 'Security at the Edge' using AWS WAF and Network Firewalls inside a dedicated Security VPC, inspecting all East-West and North-South traffic.",
                actions: ["Tell me more", "View Projects", "Contact"]
            },
            {
                // AUTOMATION (Python)
                id: "automation",
                triggers: [/python/, /automation/, /script/, /ansible/, /nornir/, /netmiko/, /api/],
                priority: 3,
                response: "<strong>[DEVOPS & AUTOMATION]:</strong><br>â€¢ <strong>Tools:</strong> Python (Nornir/Netmiko), Ansible, Terraform.<br>â€¢ <strong>Use Case:</strong> Automated backups, Config drift detection, and Self-Healing networks.",
                elaboration: "One flagship project is the 'Auto-Remediation Bot'. It listens to Splunk webhooks for threat alerts and uses the Palo Alto API to automatically block malicious IPs in under 5 seconds.",
                actions: ["Tell me more", "GitHub Profile", "Skills"]
            },
            {
                // PROJECTS
                id: "projects",
                triggers: [/project/, /work/, /portfolio/, /build/, /case study/],
                priority: 2,
                response: "<strong>[DEPLOYMENT LOGS]:</strong><br>1. <strong>Secure Grid:</strong> AWS Transit Gateway Architecture.<br>2. <strong>Auto-Bot:</strong> Automated Threat Response (Python).<br>3. <strong>SD-WAN Migration:</strong> 50+ Site Viptela rollout.",
                elaboration: "The SD-WAN migration involved moving from expensive MPLS circuits to hybrid broadband/LTE, implementing Application Aware Routing to guarantee QoS for VoIP and Video traffic.",
                actions: ["Tell me more", "Security Skills", "Contact"]
            },
            {
                // CONTACT
                id: "contact",
                triggers: [/contact/, /email/, /hire/, /job/, /reach/, /call/],
                priority: 2,
                response: "<strong>[COMMUNICATION CHANNELS]:</strong><br>â€¢ <strong>Email:</strong> <a href='mailto:mail@rajukumarrkr.in' class='text-green-400 underline'>mail@rajukumarrkr.in</a><br>â€¢ <strong>Status:</strong> Open to Work / Consulting.",
                elaboration: "RKR is available for roles focused on Network Architecture, Security Engineering, and Infrastructure Automation. Response time is typically under 24 hours.",
                actions: ["Download Resume", "LinkedIn"]
            },
            {
                // DOWNLOAD RESUME
                id: "resume",
                triggers: [/resume/, /cv/, /download/, /pdf/],
                priority: 3,
                response: "Request acknowledged. Retrieving encrypted document...",
                elaboration: "You can download the official CV using the link below.",
                actions: ["Click to Download"] // You would handle this action specifically
            }
        ];

        const fallbacks = [
            "Query obscure. Try keywords like <strong>'Firewalls'</strong>, <strong>'Python'</strong>, or <strong>'AWS'</strong>.",
            "I am optimized for Network Security queries. Ask me about <strong>Projects</strong> or <strong>Skills</strong>.",
            "Input not recognized. Type <strong>'Help'</strong> for a list of commands."
        ];

        // ----------------------------------------------------
        // CORE ENGINE
        // ----------------------------------------------------

        function toggleChat() {
            const chatBox = document.getElementById('ai-chat-box');
            isChatOpen = !isChatOpen;
            if (isChatOpen) {
                chatBox.classList.remove('hidden');
                chatBox.classList.add('chat-slide-up');
                setTimeout(() => document.getElementById('chat-input').focus(), 300);
            } else {
                chatBox.classList.remove('chat-slide-up');
                chatBox.classList.add('hidden');
            }
        }

        function handleEnter(e) {
            if (e.key === 'Enter') sendMessage();
        }

        function sendMessage(manualText = null) {
            const inputField = document.getElementById('chat-input');
            const message = manualText || inputField.value.trim();
            if (message === "") return;

            // Clear old chips
            removeQuickActions();

            // 1. Add User Message
            addMessageToUI(message, 'user');
            inputField.value = '';

            // 2. Thinking Visuals
            showThinkingEffect();

            // 3. Process (Simulated Latency)
            const delay = Math.floor(Math.random() * 700) + 500;
            
            setTimeout(() => {
                const result = processInput(message);
                removeThinkingEffect();
                addMessageToUI(result.text, 'bot');
                
                // 4. Render Smart Actions
                if (result.actions && result.actions.length > 0) {
                    renderQuickActions(result.actions);
                }
                
                // Audio Feedback
                if(typeof playTone === "function") playTone(800, 'sine', 0.1);
            }, delay);
        }

        // INTELLIGENCE PROCESSOR
        function processInput(input) {
            const lowerInput = input.toLowerCase();

            // 1. "Tell Me More" Logic
            if (lastTopic && currentDeepDive && (lowerInput.includes("more") || lowerInput.includes("detail") || lowerInput.includes("explain"))) {
                const info = currentDeepDive;
                currentDeepDive = ""; // Clear to prevent loops
                return { text: `<strong>[DEEP DIVE]:</strong><br>${info}`, actions: ["Projects", "Contact"] };
            }

            // 2. Find Best Match
            let bestMatch = null;
            
            for (const category of knowledgeBase) {
                if (category.triggers.some(t => t.test(lowerInput))) {
                    // If we found a match, check if it's higher priority than previous matches (optional complexity)
                    bestMatch = category;
                    break; // Return first valid match for now
                }
            }

            // 3. Handle Match
            if (bestMatch) {
                lastTopic = bestMatch.id;
                currentDeepDive = bestMatch.elaboration || "";
                
                let outputText = typeof bestMatch.response === 'function' ? bestMatch.response() : bestMatch.response;
                return { text: outputText, actions: bestMatch.actions };
            }

            // 4. Name Handling
            if (lowerInput.includes("my name is")) {
                const parts = input.split(" ");
                userName = parts[parts.length - 1];
                return { text: `Identity Verified. Welcome, ${userName}.`, actions: ["Skills", "Projects"] };
            }

            // 5. Fallback
            return { text: fallbacks[Math.floor(Math.random() * fallbacks.length)], actions: ["Help", "Skills"] };
        }

        // ----------------------------------------------------
        // UI COMPONENTS
        // ----------------------------------------------------

        function addMessageToUI(text, sender) {
            const chatMessages = document.getElementById('chat-messages');
            const div = document.createElement('div');
            
            if (sender === 'user') {
                div.className = "self-end bg-cyber text-black p-3 rounded-lg rounded-tr-none text-sm font-bold max-w-[85%] mb-2 shadow-lg transform transition-all hover:scale-[1.02]";
            } else {
                div.className = "self-start bg-gray-800/90 text-gray-300 p-3 rounded-lg rounded-tl-none text-sm font-mono border-l-2 border-cyber max-w-[90%] mb-2 shadow-lg backdrop-blur-sm";
            }
            
            div.innerHTML = text; 
            div.style.animation = "fadeIn 0.3s ease-out forwards";
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // --- NEW: QUICK ACTION CHIPS ---
        function renderQuickActions(actions) {
            const chatMessages = document.getElementById('chat-messages');
            const chipsContainer = document.createElement('div');
            chipsContainer.id = "quick-actions";
            chipsContainer.className = "flex flex-wrap gap-2 mb-4 ml-2 animate-pulse";
            
            actions.forEach(actionText => {
                const btn = document.createElement('button');
                btn.className = "px-3 py-1 bg-cyber/10 border border-cyber/40 text-cyber text-[11px] font-mono rounded hover:bg-cyber hover:text-black transition-all cursor-pointer";
                btn.innerText = `> ${actionText}`;
                btn.onclick = () => sendMessage(actionText);
                chipsContainer.appendChild(btn);
            });
            
            chatMessages.appendChild(chipsContainer);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function removeQuickActions() {
            const existing = document.getElementById('quick-actions');
            if (existing) existing.remove();
        }

        // --- VISUALS ---
        function showThinkingEffect() {
            const chatMessages = document.getElementById('chat-messages');
            
            const logDiv = document.createElement('div');
            logDiv.id = "ai-log";
            logDiv.className = "text-[10px] font-mono text-cyber/70 mb-1 ml-2 animate-pulse";
            logDiv.innerText = `> ACCESSING NEURAL DB...`;
            chatMessages.appendChild(logDiv);

            const typingDiv = document.createElement('div');
            typingDiv.id = "typing-indicator";
            typingDiv.className = "self-start bg-gray-800/50 p-3 rounded-lg rounded-tl-none border-l-2 border-cyber mb-2 w-16";
            typingDiv.innerHTML = `<div class="flex space-x-1 h-full items-center"><span class="typing-dot"></span><span class="typing-dot"></span><span class="typing-dot"></span></div>`;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function removeThinkingEffect() {
            const log = document.getElementById('ai-log');
            const typing = document.getElementById('typing-indicator');
            if (log) log.remove();
            if (typing) typing.remove();
        }
    // ----------------------------------------------------
    // OPTION B: LIVE THREAT MAP VISUALIZER
    // ----------------------------------------------------
    const canvas = document.getElementById('threat-map');
    const ctx = canvas.getContext('2d');
    
    let width, height;
    let threats = [];

    // Resize Canvas
    function resize() {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
    }
    window.addEventListener('resize', resize);
    resize();

    // Threat Object
    class Threat {
        constructor() {
            this.reset();
        }

        reset() {
            // Random Start & End Points
            this.x1 = Math.random() * width;
            this.y1 = Math.random() * height;
            this.x2 = Math.random() * width;
            this.y2 = Math.random() * height;
            
            this.progress = 0;
            this.speed = Math.random() * 0.01 + 0.005;
            this.color = Math.random() > 0.9 ? '#ff003c' : '#00f3ff'; // 10% Red (Alert), 90% Blue
            this.size = Math.random() * 2 + 1;
        }

        update() {
            this.progress += this.speed;
            if (this.progress >= 1) {
                this.reset();
            }
        }

        draw() {
            // Calculate current position along the line
            const curX = this.x1 + (this.x2 - this.x1) * this.progress;
            const curY = this.y1 + (this.y2 - this.y1) * this.progress;

            // Draw Head
            ctx.beginPath();
            ctx.arc(curX, curY, this.size, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            ctx.fill();

            // Draw Trail (Fade out)
            ctx.beginPath();
            ctx.moveTo(this.x1, this.y1);
            ctx.lineTo(curX, curY);
            ctx.strokeStyle = this.color;
            ctx.lineWidth = 0.5;
            ctx.globalAlpha = 1 - this.progress; // Fade out as it moves
            ctx.stroke();
            ctx.globalAlpha = 1.0; // Reset alpha
        }
    }

    // Initialize Threats
    for (let i = 0; i < 15; i++) {
        threats.push(new Threat());
    }

    // Animation Loop
    function animateMap() {
        ctx.fillStyle = 'rgba(5, 5, 5, 0.1)'; // Trail effect background
        ctx.fillRect(0, 0, width, height);

        threats.forEach(t => {
            t.update();
            t.draw();
        });

        requestAnimationFrame(animateMap);
    }
    animateMap();
    </script>
</body>
</html>











